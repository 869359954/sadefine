<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="#" />
    <meta charset='UTF-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" >
    <title>sdk demo ls </title>
    <style>
        #parent{
    position: relative;
    margin: 50px auto;
    padding: 0;
    width: 500px;
    height: 309px;
}

#uls{
    position: relative;
    margin: 0;
    padding: 0;
    width: 500px;
    height: 309px;
    overflow: hidden;
}

#img_ul{
    position: absolute;
    margin: 0;
    padding: 0;
    left: 0;
    top: 0;
    width: 3000px;           /*多留出一张图片的宽度！*/
    list-style: none;
}
#img_ul li{
    float: left;
    margin: 0;
    padding: 0;
    width: 500px;
    height: 309px;
}
#img_ul li img{
    width: 500px;
    height: 309px;
}

#litCir_ul{
    position: absolute;
    margin: 0;
    padding: 0;
    right: 10px;
    bottom: 10px;
    list-style: none;
}
#litCir_ul li{
    margin: 0;
    padding: 0;
    float: left;
    width: 20px;
    height: 20px;
    text-align: center;
    line-height: 20px;
    border-radius: 50%; 
    margin-left:10px ;
    cursor: pointer;
}

li.active{
    background-color: white;
}
li.quiet{
    background-color: #1e90ff;
}

#buttons{
    margin: 0;
    padding: 0;
    display: none;
}
#buttons span{
    position: absolute;
    width: 40px;
    height: 40px;
    top: 50%;
    margin-top: -20px;
    line-height: 40px;
    text-align: center;
    font-weight: bold;
    font-family: Simsun;
    font-size: 30px;
    border: 1px solid #fff;
    opacity: 0.3;
    cursor: pointer;
    color: #fff;
    background: black;
}
#left{
    left: 5px;
}
#right{
    left: 100%;
    margin-left: -45px;
}
        #rel{
            position: relative;
        }
        #rel button{
            /* position: absolute; */
        }
        *{
            margin: 5px 5px;
        }
        button{
            width: 70px;
            height: 20px;
            border: 1px solid grey;
        }
        input{
            border: 1px solid grey;
        }
        #login,#iframewrapper,#setclick,#default{
            border: 2px solid darkgray;
            margin: 5px 0;
            text-align: center;
        }
        .img{
            height: 50px;
            width: 100px;
            display: block;
            margin: 0 auto;
        }
        #stoppro{
            width: 120px;
            height: 20px;
            text-align: center;
            display:block;
            margin: 5px auto;
            
        }
        .iframe{
            display: block;
            margin: 5px auto;
        }
        #logoutbtn{
            display: block;
            width: 70px;
            margin: 0 auto;
            margin-bottom: 6px;
            margin-top: 5px;
        }
        #decodeurl{
            display: inline;
            width:60px;
        }
        #text{
            height: 200px;
            width: 98%;
            border: 1px solid grey;
        }
        .t{
            display: none;
        }
        .active{
            display: inline-block;
        }
        .scroll{
            height: 3000px;
            background: radial-gradient(grey,yellow,pink)
        }
        .scrollwra{
            height: 100px;
            border: 2px solid darkgray;
            overflow-y: scroll;
        }
        .iframe{
            /* height: 800px; */
            background: radial-gradient(grey,yellow,pink)

        }
        #iframewrapper{
            /* height: 200px; */
            overflow-y: scroll;
        }
       textarea{
        border: 2px solid darkgray;
       }
       .scrollwr{
           height: 1000px;
           border: 2px solid darkgray;
       }

       #default > * {
           margin: 0;
       }
       
       #a1{
           display: block;
           width: 100px;
           height: 130px;
       }
       #a2{
           display: block;
           width: 100px;
           height: 130px;
           background: yellowgreen;
       }
       #over{
           display: block;
           width: 100px;
           height: 130px;
           background: orange;
           border: 4px solid black;
           overflow: hidden;
       }
       #turnpage{
           border: 1px solid grey;
           margin-top: 10px;
           display: inline-block;
       }
       #vi{
           height: 100px;
           visibility: hidden;
       }
       #opacity{
           height: 100px;
           opacity: 0;
       }
       #dis{
           display: none;
       }
       #img_ul a{
           display: block;
       }
    </style>
    <script src='./defineindex.js'></script>      
</head>
<body>
    <div id= "parent">
        <div id="uls">
            <ul id="img_ul">
                <li><a id='lia1' href=""><img src="imgs/0.jpg"/></a></li>
                <li><a id='lia2' href=""><img src="imgs/1.jpeg"/></a></li>
                <li><a id='lia3' href=""><img src="imgs/2.jpeg"/></a></li>
                <li><a id='lia4' href=""><img src="imgs/3.jpg"/></a></li>
                <li><a id='lia5' href=""><img src="imgs/4.jpg"/></a></li>
            </ul>
            <ul id='litCir_ul'></ul>
        </div>
        <div id="buttons">
            <span id="left">&lt;</span>
            <span id="right">&gt;</span>
        </div>
    </div>
     <div>
        <div>
            visibility:hidden
            <button id='vi'>
                visibility:hidden
             </button>
        </div>
        <div>
            opacity:0
            <button id="opacity">
                opacity:0
            </button>
        </div>
         <div>
            display:none
            <button id='dis'>
                display:none
            </button>
         </div>
        <div>
            overflow
            <div id="over">
                <a id="a1">a1</a>
                <a id="a2">a2</a>
            </div>
        </div>
            <textarea name="" id="" cols="30" rows="10">im textarea</textarea>
            <a href="#" id = 'tr'>
                <button id='test'>123i</button>
            </a>
            <div id='default'>
                    <button data='test' sensors-disable=true>disbtn</button>
                    <button data='test' title="1234" id='goodbtn' class='ww'>button</button>
                    <div>点击输入text：<input id='a' type="text">提交：<input type="submit"></div>
                    <a href="http://www.ls.com:8080/indexdemo.html?" id='abtn'>跳转页面demo</a>
                 </div>
                 <input id="tianxie" type="text" value="填写内容"/>填写

                    <select id="shengfen" name="省份">
                        <option value="0">北京</option>
                        <option value="1">上海</option>
                        <option value="2">合肥</option>
                    </select>
                 <div id='setclick'>
                     <img class='img' src="./pic.jpeg" id='trackimg'>
                     <button id='stoppro'>stopPropagation</button>
                 </div>
                 <div id='iframewrapper'>
                     <h3>iframe indexdemo</h3>
                     <!-- <iframe src="http://www.ls.com:8080/indexdemo.html?utm_source=1233demo" frameborder="0"></iframe> -->
                 </div> 
                 <div id="login">
                     <input type="text"  sensors-disable = 'true' id='loginid'>
                     <button id="loginbtn" sensors-disable = 'true'>login</button>
                     <button id="logoutbtn" sensors-disable = 'true' >logout</button>
                     <input type="text" id='sensorscookie' sensors-disable = 'true' >
                     <button id='decodeurl' sensors-disable = 'true'>decode</button>
                 </div> 
                 <div id='text'>
                     <div>
                         <button class='p'>page 1</button>
        
                         <button class='p'>page 2</button>
                         <button class='p'>page 3</button>
                     </div>
                     
                     <div class='t active'>
                         <button>
                                im page1
                         </button>
                     </div>
                     <div class='t'>
                         <button>
                            im page2
                        </button>
                    </div>
                     <div class='t'>
                            <button id = 'pbtn3'>
                                    im page3
                            </button>
                     </div>
                     <div>
                            <div id='turnpage'>
                                    turn to p3
                                </div>
                     </div>
                     
                 </div>
                 
                 <div class="scrollwra">
                        <div class="scroll">...</div>
                 </div>

                 <div class="scrollwr"></div>
                 <div>
                        <div id='rel'>
                                <button id="testbtn">test</button>
                        </div>
                 </div>
                 <button>888</button>
                 <button id='vi'>
                     5566
                 </button>
                 <!-- <div>
                        <a href="">
                                <button>test9999iiiii</button>
                        </a>
                 </div> -->
                 

     </div>
     <script>
         var btnid = 1;
         window.onscroll = function(){
             var odiv = document.createElement('button');
             odiv.innerHTML = btnid;
             btnid ++;
             document.body.appendChild(odiv);
         }
     </script> 
     <script>
             /*获取HTML中的对象*/
    var parent = document.getElementById("parent");
    var img_ul = document.getElementById("img_ul");
    var litCir_ul = document.getElementById("litCir_ul");
    var buttons = document.getElementById("buttons");
    var cLis =litCir_ul.children;

    var len = img_ul.children.length;     //图片张数
    var width = parent.offsetWidth;       //每张图片的宽度
    var rate = 15;                        //一张图片的切换速度， 单位为px
    var times = 1;                        //切换速度的倍率
    var gap = 2000;                       //自动切换间隙， 单位为毫秒
    var timer = null;                     //初始化一个定时器
    var picN = 0;                         //当前显示的图片下标
    var cirN = 0;                         //当前显示图片的小圆点下标
    var temp;
    for (var i=0; i<len; i++){
        var a_li = document.createElement("li");
        a_li.className = 'quiet';
        litCir_ul.appendChild(a_li);
    }
    litCir_ul.children[0].className = "active";
    function Roll(distance){                                         //参数distance：滚动的目标点（必为图片宽度的倍数）
clearInterval(img_ul.timer);                                     //每次运行该函数必须清除之前的定时器！
var speed = img_ul.offsetLeft < distance ?  rate : (0-rate);     //判断图片移动的方向

img_ul.timer = setInterval(function(){                           //设置定时器，每隔10毫秒，调用一次该匿名函数
    img_ul.style.left = img_ul.offsetLeft + speed + "px";        //每一次调用滚动到的地方 (速度为 speed px/10 ms)         
    var leave = distance - img_ul.offsetLeft;                    //距目标点剩余的px值      
    /*接近目标点时的处理，滚动接近目标时直接到达， 避免rate值设置不当时不能完整显示图片*/
    if (Math.abs(leave) <= Math.abs(speed)) {                    
        clearInterval(img_ul.timer);
        img_ul.style.left = distance + "px";
    }
},10);
}
img_ul.appendChild(img_ul.children[0].cloneNode(true));

function autoRun(){
    picN++;
    cirN++;
    if(picN > len){                  //滚动完克隆项后
        img_ul.style.left = 0;       //改变left至真正的第一项处
        picN = 1;                    //从第二张开始显示
    }
    Roll(-picN*width);
    
    if(cirN > len-1){                //判断是否到了最后一个圆点
        cirN = 0;                 
    }
    for(var i=0; i<len; i++){
        cLis[i].className = "quiet";
    }
    cLis[cirN].className = "active";
}
for(var i=0; i<len; i++){
        cLis[i].index = i;
        cLis[i].onmouseover = function(){
            for(var j=0; j<len; j++){
                cLis[j].className = "quiet";
            }
            this.className = "active";
            temp = cirN;
            picN = cirN = this.index;
            times = Math.abs(this.index - temp);  //距离上个小圆点的距离
            rate = rate*times;                    //根据距离改变切换速率
            Roll(-this.index * width);
            rate = 15;
        }
    }
    parent.onmouseover = function(){
        clearInterval(timer);
        buttons.style.display = 'block';
    }
    parent.onmouseout = function(){
        timer = setInterval(autoRun, gap);
        buttons.style.display = 'none';
    }
        /*上一张*/
        buttons.children[0].onclick = function(){ 
        picN--;
        cirN--;
        if(picN < 0){                               //滚动完第一项后
            img_ul.style.left = -len*width + "px";  //改变left至克隆的第一项处
            picN = cirN = len-1;
        }
        Roll(-picN*width);
        //bug处理
        if(cirN < 0){
            cirN = len-1;
        }
        for(var i=0; i<len; i++){
            cLis[i].className = "quiet";
        }
        cLis[cirN].className = "active";
    }
    /*下一张*/
    buttons.children[1].onclick = autoRun;
    setInterval(() => {
        autoRun();
    }, 1000);
    /*克隆第一个li到列表末*/
     </script> 
     <script>
        
         var pbtn = document.getElementsByClassName('p');
         goodbtn.onclick = function(){
             console.log(34)
             goodbtn.classList.add('sdd');
         }
         var page = document.getElementsByClassName('t');
         for(var i = 0;i<pbtn.length;i++){
             (function pp(i){
                pbtn[i].onclick = function(){
                    for(var j = 0;j<pbtn.length;j++){
                        page[j].classList.remove("active");
                    }
                    page[i].classList.add('active');
                 }
             })(i);
            
         }
         var pagediv = document.getElementById('turnpage');
         pagediv.onclick = function(){
             alert(123);
            for(var j = 0;j<pbtn.length;j++){
                        page[j].classList.remove("active");
                    }
                    page[2].classList.add('active');
         }
        
         var funcstore = {
             decodeurlfunc : function(){
                var cookie2015 = document.getElementById('sensorscookie');
                var cookieval = "'" + cookie2015.value + "'";
                console.log(decodeURIComponent(cookieval));
                cookie2015.value = '';
             },
             loginfunc : function(){
                var loginid = document.getElementById('loginid');
                var val = loginid.value;
                sensors.login(val);
                loginid.value = '';
             },
             logoutfunc : function(){
                 sensors.quick('autoTrack',{
                     ss:'logout'
                 });
                sensors.logout();
                console.log('logout');
             }
         }
         decodeurl.onclick = function(){funcstore.decodeurlfunc();}
         loginbtn.onclick = function(){funcstore.loginfunc();}
         logoutbtn.onclick = function(){funcstore.logoutfunc();}
         trackimg.onclick = function(){
             sensors.quick('trackHeatMap',this,{
                 platform:'trackheatmap'
             },function(){
                 console.log('trackheatmap');
             })
         }
         stoppro.onclick = function(event){
             event.stopPropagation();
         }
        abtn.onclick = function(){
            sensors.track('n',{});
            sensors.track('d',{});
            sensors.track('r',{});
        }
        document.cookie = "ls=123;expires=‘234'"
     </script>

</body>
</html>